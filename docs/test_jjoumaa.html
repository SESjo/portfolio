<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Joffrey Joumaa">
<meta name="dcterms.date" content="2017-12-05">
<title>Joffrey Joumaa | portfolio - Dataiku Interview Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.26/datatables.js"></script><script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><link href="site_libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script><link href="site_libs/dt-ext-fixedcolumns-1.12.1/css/fixedColumns.dataTables.min.css" rel="stylesheet">
<script src="site_libs/dt-ext-fixedcolumns-1.12.1/js/dataTables.fixedColumns.min.js"></script><link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
</head>
<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Joffrey Joumaa | portfolio</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="./index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-notebooks" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Notebooks</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-notebooks">
<li>
    <a class="dropdown-item" href="./dataiku_jjoumaa.html">
 <span class="dropdown-text">Dataiku Interview</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./saegus_jjoumaa.html">
 <span class="dropdown-text">Saegus Interview</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./booking_jjoumaa.html">
 <span class="dropdown-text">Booking Interview</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-webapps" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Webapps</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-webapps">
<li>
    <a class="dropdown-item" href="https://dashrisk.pythonanywhere.com/">
 <span class="dropdown-text">Dash (Python)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://joffreyjoumaa.shinyapps.io/shiny_risk/">
 <span class="dropdown-text">Shiny (R)</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-packages" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Packages</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-packages">
<li>
    <a class="dropdown-item" href="https://weanlingnes.duckdns.org">
 <span class="dropdown-text">weanlingNES</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item">
    <a class="nav-link" href="./resume_jjoumaa.html">
 <span class="menu-text">Resume</span></a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/SESjo"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html">
 <span class="menu-text">About me</span></a>
  </li>  
</ul>
<div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li>
<a href="#prepare-problem" id="toc-prepare-problem" class="nav-link active" data-scroll-target="#prepare-problem"><span class="toc-section-number">1</span>  Prepare Problem</a>
  <ul class="collapse">
<li><a href="#load-libraries" id="toc-load-libraries" class="nav-link" data-scroll-target="#load-libraries"><span class="toc-section-number">1.1</span>  Load libraries</a></li>
  <li><a href="#load-dataset" id="toc-load-dataset" class="nav-link" data-scroll-target="#load-dataset"><span class="toc-section-number">1.2</span>  Load dataset</a></li>
  </ul>
</li>
  <li>
<a href="#summarize-data" id="toc-summarize-data" class="nav-link" data-scroll-target="#summarize-data"><span class="toc-section-number">2</span>  Summarize Data</a>
  <ul class="collapse">
<li><a href="#descriptive-statistics" id="toc-descriptive-statistics" class="nav-link" data-scroll-target="#descriptive-statistics"><span class="toc-section-number">2.1</span>  Descriptive statistics</a></li>
  </ul>
</li>
  </ul></nav>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Dataiku Interview Project</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Joffrey Joumaa </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 5, 2017</p>
    </div>
  </div>
  
    
  </div>
  

</header><style>
body {
text-align: justify}
</style>
<p>Please find below my report about the dataset provided by Dataiku. This analysis has been realized using R (version 3.3.3) with all packages updated on 18/01/2023, under a UNIX/LINUX environment (Debian 9.2). The provided script (<code>code_jjoumaa.R</code>) runs in about an hour with an Intel i7 6600U based computer equipped with 32 Gb RAM (DDR4).</p>
<section id="prepare-problem" class="level1" data-number="1"><h1 data-number="1">
<span class="header-section-number">1</span> Prepare Problem</h1>
<section id="load-libraries" class="level2" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="load-libraries">
<span class="header-section-number">1.1</span> Load libraries</h2>
<p>Most of the data manipulation was done using <code>data.table</code> package due to its ability to handle large datasets. Data visualization was mostly done using <code>ggplot2</code> package. For the modelling part, I’ve used <code>caret</code> package, which provides a lot of useful tools for data science.</p>
<div class="cell" data-hash="test_jjoumaa_cache/html/load_libraries_d6946088d81785069bba1c4786b483f7">
<details><summary>Code</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># data visualization</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/taiyun/corrplot">corrplot</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">gridExtra</span><span class="op">)</span></span>
<span><span class="co"># data manipulation</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com">data.table</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://stringr.tidyverse.org">stringr</a></span><span class="op">)</span></span>
<span><span class="co"># data modeling</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/topepo/caret/">caret</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/zachmayer/caretEnsemble">caretEnsemble</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jefferis/RANN">RANN</a></span><span class="op">)</span></span>
<span><span class="co"># markdown table</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/">knitr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/DT">DT</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rapporter.github.io/pander/">pander</a></span><span class="op">)</span></span>
<span><span class="co"># (optional) multithreading</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">doMC</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/doMC/man/registerDoMC.html">registerDoMC</a></span><span class="op">(</span>cores <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="load-dataset" class="level2" data-number="1.2"><h2 data-number="1.2" class="anchored" data-anchor-id="load-dataset">
<span class="header-section-number">1.2</span> Load dataset</h2>
<p>As we’ll see in the next steps, both datasets (learning and validation one) present a lot of missing values in the form of <code>?</code> in raw files, converted then in <code>NA</code> values in R.</p>
<div class="cell" data-hash="test_jjoumaa_cache/html/load_dataset_e7c4d6c29d55b56f1dd95b2b932267a5">
<details><summary>Code</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># learning dataset</span></span>
<span><span class="va">dataset</span> <span class="op">=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fread.html">fread</a></span><span class="op">(</span><span class="st">"census_income_learn.csv"</span>, </span>
<span>                na.strings <span class="op">=</span> <span class="st">"?"</span><span class="op">)</span></span>
<span><span class="co"># validation dataset</span></span>
<span><span class="va">validation</span> <span class="op">=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fread.html">fread</a></span><span class="op">(</span><span class="st">"census_income_test.csv"</span>, </span>
<span>                   na.strings <span class="op">=</span> <span class="st">"?"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Since neither dataset has column names, I’ve loaded the description file <code>census_income_metadata.txt</code>, and extracted rows mentioning column names.</p>
<div class="cell" data-hash="test_jjoumaa_cache/html/load_colnames_ecb787c4d1905e7c005a2a1ddbba5e57">
<details><summary>Code</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># selection of the right rows containing colnames</span></span>
<span><span class="va">datasetNames</span> <span class="op">=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fread.html">fread</a></span><span class="op">(</span><span class="st">"census_income_metadata.txt"</span>, </span>
<span>                     nrows <span class="op">=</span> <span class="op">(</span><span class="fl">68</span><span class="op">-</span><span class="fl">22</span><span class="op">)</span>, </span>
<span>                     skip <span class="op">=</span> <span class="fl">22</span>, </span>
<span>                     drop <span class="op">=</span> <span class="st">"V1"</span><span class="op">)</span></span>
<span><span class="co"># extraction of word in capital</span></span>
<span><span class="va">colInter</span> <span class="op">=</span> <span class="va">datasetNames</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_extract.html">str_extract_all</a></span><span class="op">(</span><span class="va">V2</span>, <span class="st">'\\b[A-Z]+[A-Z0-9]\\b'</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">colInter</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> [1] "AAGE"     "ACLSWKR"  "ADTIND"   "ADTOCC"   "AGI"      "AHGA"    
 [7] "AHRSPAY"  "AHSCOL"   "AMARITL"  "AMJIND"   "AMJOCC"   "ARACE"   
[13] "AREORGN"  "ASEX"     "AUNMEM"   "AUNTYPE"  "AWKSTAT"  "CAPGAIN" 
[19] "CAPLOSS"  "DIVVAL"   "FEDTAX"   "FILESTAT" "GRINREG"  "GRINST"  
[25] "HHDFMX"   "HHDREL"   "MARSUPWT" "MIGMTR1"  "MIGMTR3"  "MIGMTR4" 
[31] "MIGSAME"  "MIGSUN"   "NOEMP"    "PARENT"   "PEARNVAL" "PEFNTVTY"
[37] "PEMNTVTY" "PENATVTY" "PRCITSHP" "PTOTVAL"  "SEOTR"    "TAXINC"  
[43] "VETQVA"   "VETYN"    "WKSWORK" </code></pre>
</div>
</div>
<p>The problem was that 45 columns were mentioned in the description files (<code>colInter</code>), whereas both datasets only have 42 columns. To solve this, I’ve matched each column with their respective names based on the number of unique “value” by columns and the one exposed in the description file. Using this method, I’ve found that AGI, FEDTAX, PEARNVAL, PTOTVAL and TAXINC attributes could be removed from the initial column names, and that the attributes YEARS and Y (the attributes to model, <em>i.e</em> the income level) should be added.</p>
<div class="cell" data-rows.print="5" data-hash="test_jjoumaa_cache/html/right_colnames_a6a04d747e5e803cef64efb74ca967cc">
<details><summary>Code</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># number of instances for each attributes</span></span>
<span><span class="va">dataset</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">.SD</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">}</span><span class="op">)</span><span class="op">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>   V1    V2    V3    V4    V5    V6    V7    V8    V9   V10   V11   V12   V13 
   91     9    52    47    17  1240     3     7    24    15     5    10     2 
  V14   V15   V16   V17   V18   V19   V20   V21   V22   V23   V24   V25   V26 
    3     6     8   132   113  1478     6     6    51    38     8 99800    10 
  V27   V28   V29   V30   V31   V32   V33   V34   V35   V36   V37   V38   V39 
    9    10     3     4     7     5    43    43    43     5     3     3     3 
  V40   V41   V42 
   53     2     2 </code></pre>
</div>
<details><summary>Code</summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># remove unexpected column names</span></span>
<span><span class="va">colInter</span> <span class="op">=</span> <span class="va">colInter</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">colInter</span> <span class="op">==</span> <span class="st">"AGI"</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">colInter</span> <span class="op">=</span> <span class="va">colInter</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">colInter</span> <span class="op">==</span> <span class="st">"FEDTAX"</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">colInter</span> <span class="op">=</span> <span class="va">colInter</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">colInter</span> <span class="op">==</span> <span class="st">"PEARNVAL"</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">colInter</span> <span class="op">=</span> <span class="va">colInter</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">colInter</span> <span class="op">==</span> <span class="st">"PTOTVAL"</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">colInter</span> <span class="op">=</span> <span class="va">colInter</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">colInter</span> <span class="op">==</span> <span class="st">"TAXINC"</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># add two more column names</span></span>
<span><span class="va">colInter</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">colInter</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"YEAR"</span>, <span class="st">"Y"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span> <span class="op">=</span> <span class="va">colInter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">42</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">validation</span><span class="op">)</span> <span class="op">=</span> <span class="va">colInter</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">42</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># dataset preview</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">validation</span>, <span class="fl">5</span><span class="op">)</span>, </span>
<span>          caption <span class="op">=</span> <span class="st">"Preview of the dataset"</span>, </span>
<span>          extensions <span class="op">=</span> <span class="st">'FixedColumns'</span>, </span>
<span>          options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>            dom <span class="op">=</span> <span class="st">"t"</span>, </span>
<span>            scrollX <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>            fixedColumns <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<div id="htmlwidget-b2180c4e04d78e523683" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-b2180c4e04d78e523683">{"x":{"filter":"none","vertical":false,"extensions":["FixedColumns"],"caption":"<caption>Preview of the dataset<\/caption>","data":[["1","2","3","4","5"],[38,44,2,35,49],["Private","Self-employed-not incorporated","Not in universe","Private","Private"],[6,37,0,29,4],[36,12,0,3,34],["1st 2nd 3rd or 4th grade","Associates degree-occup /vocational","Children","High school graduate","High school graduate"],[0,0,0,0,0],["Not in universe","Not in universe","Not in universe","Not in universe","Not in universe"],["Married-civilian spouse present","Married-civilian spouse present","Never married","Divorced","Divorced"],["Manufacturing-durable goods","Business and repair services","Not in universe or children","Transportation","Construction"],["Machine operators assmblrs &amp; inspctrs","Professional specialty","Not in universe","Executive admin and managerial","Precision production craft &amp; repair"],["White","White","White","White","White"],["Mexican (Mexicano)","All other","Mexican-American","All other","All other"],["Female","Female","Male","Female","Male"],["Not in universe","Not in universe","Not in universe","Not in universe","Not in universe"],["Not in universe","Not in universe","Not in universe","Not in universe","Not in universe"],["Full-time schedules","PT for econ reasons usually PT","Children or Armed Forces","Children or Armed Forces","Full-time schedules"],[0,0,0,0,0],[0,0,0,0,0],[0,2500,0,0,0],["Joint one under 65 &amp; one 65+","Joint both under 65","Nonfiler","Head of household","Single"],["Not in universe","Not in universe","Not in universe","Not in universe","Not in universe"],["Not in universe","Not in universe","Not in universe","Not in universe","Not in universe"],["Spouse of householder","Spouse of householder","Child &lt;18 never marr not in subfamily","Householder","Secondary individual"],["Spouse of householder","Spouse of householder","Child under 18 never married","Householder","Nonrelative of householder"],[1032.38,1462.33,1601.75,1866.88,1394.54],[null,null,null,"Nonmover",null],[null,null,null,"Nonmover",null],[null,null,null,"Nonmover",null],["Not in universe under 1 year old","Not in universe under 1 year old","Not in universe under 1 year old","Yes","Not in universe under 1 year old"],[null,null,null,"Not in universe",null],[4,1,0,5,4],["Not in universe","Not in universe","Both parents present","Not in universe","Not in universe"],["Mexico","United-States","United-States","United-States","United-States"],["Mexico","United-States","United-States","United-States","United-States"],["Mexico","United-States","United-States","United-States","United-States"],["Foreign born- Not a citizen of U S","Native- Born in the United States","Native- Born in the United States","Native- Born in the United States","Native- Born in the United States"],[0,0,0,2,0],["Not in universe","Not in universe","Not in universe","Not in universe","Not in universe"],[2,2,0,2,2],[12,26,0,52,50],[95,95,95,94,95],["- 50000.","- 50000.","- 50000.","- 50000.","- 50000."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>AAGE<\/th>\n      <th>ACLSWKR<\/th>\n      <th>ADTIND<\/th>\n      <th>ADTOCC<\/th>\n      <th>AHGA<\/th>\n      <th>AHRSPAY<\/th>\n      <th>AHSCOL<\/th>\n      <th>AMARITL<\/th>\n      <th>AMJIND<\/th>\n      <th>AMJOCC<\/th>\n      <th>ARACE<\/th>\n      <th>AREORGN<\/th>\n      <th>ASEX<\/th>\n      <th>AUNMEM<\/th>\n      <th>AUNTYPE<\/th>\n      <th>AWKSTAT<\/th>\n      <th>CAPGAIN<\/th>\n      <th>CAPLOSS<\/th>\n      <th>DIVVAL<\/th>\n      <th>FILESTAT<\/th>\n      <th>GRINREG<\/th>\n      <th>GRINST<\/th>\n      <th>HHDFMX<\/th>\n      <th>HHDREL<\/th>\n      <th>MARSUPWT<\/th>\n      <th>MIGMTR1<\/th>\n      <th>MIGMTR3<\/th>\n      <th>MIGMTR4<\/th>\n      <th>MIGSAME<\/th>\n      <th>MIGSUN<\/th>\n      <th>NOEMP<\/th>\n      <th>PARENT<\/th>\n      <th>PEFNTVTY<\/th>\n      <th>PEMNTVTY<\/th>\n      <th>PENATVTY<\/th>\n      <th>PRCITSHP<\/th>\n      <th>SEOTR<\/th>\n      <th>VETQVA<\/th>\n      <th>VETYN<\/th>\n      <th>WKSWORK<\/th>\n      <th>YEAR<\/th>\n      <th>Y<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","scrollX":true,"fixedColumns":false,"columnDefs":[{"className":"dt-right","targets":[1,3,4,6,17,18,19,25,31,37,39,40,41]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section></section><section id="summarize-data" class="level1" data-number="2"><h1 data-number="2">
<span class="header-section-number">2</span> Summarize Data</h1>
<section id="descriptive-statistics" class="level2" data-number="2.1"><h2 data-number="2.1" class="anchored" data-anchor-id="descriptive-statistics">
<span class="header-section-number">2.1</span> Descriptive statistics</h2>
<p>It is difficult to present all attributes, but a quick summary provides a good overview of the structure.</p>
<div class="cell" data-hash="test_jjoumaa_cache/html/descriptive_stat_3f5f985f68e5fd5ae889b4accbbda348">
<details><summary>Code</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># index of column with characters</span></span>
<span><span class="va">ncolCha</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">dataset</span>, <span class="va">class</span><span class="op">)</span> <span class="op">==</span> <span class="st">"character"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># conversion of characters in factors</span></span>
<span><span class="va">dataset</span><span class="op">[</span>, <span class="op">(</span><span class="va">ncolCha</span><span class="op">)</span><span class="op">:=</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">.SD</span>, <span class="va">as.factor</span><span class="op">)</span>, .SDcols <span class="op">=</span> <span class="va">ncolCha</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># structure of the dataset</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>variable <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span>, </span>
<span>                 classe <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">dataset</span>, <span class="va">class</span><span class="op">)</span>, </span>
<span>                 first_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">dataset</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>                   <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span><span class="op">}</span><span class="op">)</span>, </span>
<span>                 row.names <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 92%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">variable</th>
<th style="text-align: left;">classe</th>
<th style="text-align: left;">first_values</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">AAGE</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">73, 58, 18, 9, 10, 48</td>
</tr>
<tr class="even">
<td style="text-align: left;">ACLSWKR</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Not in universe, Self-employed-not incorporated, Not in universe, Not in universe, Not in universe, Private</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ADTIND</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">0, 4, 0, 0, 0, 40</td>
</tr>
<tr class="even">
<td style="text-align: left;">ADTOCC</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">0, 34, 0, 0, 0, 10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AHGA</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">High school graduate, Some college but no degree, 10th grade, Children, Children, Some college but no degree</td>
</tr>
<tr class="even">
<td style="text-align: left;">AHRSPAY</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">0, 0, 0, 0, 0, 1200</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AHSCOL</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Not in universe, Not in universe, High school, Not in universe, Not in universe, Not in universe</td>
</tr>
<tr class="even">
<td style="text-align: left;">AMARITL</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Widowed, Divorced, Never married, Never married, Never married, Married-civilian spouse present</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AMJIND</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Not in universe or children, Construction, Not in universe or children, Not in universe or children, Not in universe or children, Entertainment</td>
</tr>
<tr class="even">
<td style="text-align: left;">AMJOCC</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Not in universe, Precision production craft &amp; repair, Not in universe, Not in universe, Not in universe, Professional specialty</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ARACE</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">White, White, Asian or Pacific Islander, White, White, Amer Indian Aleut or Eskimo</td>
</tr>
<tr class="even">
<td style="text-align: left;">AREORGN</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">All other, All other, All other, All other, All other, All other</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ASEX</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Female, Male, Female, Female, Female, Female</td>
</tr>
<tr class="even">
<td style="text-align: left;">AUNMEM</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Not in universe, Not in universe, Not in universe, Not in universe, Not in universe, No</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AUNTYPE</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Not in universe, Not in universe, Not in universe, Not in universe, Not in universe, Not in universe</td>
</tr>
<tr class="even">
<td style="text-align: left;">AWKSTAT</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Not in labor force, Children or Armed Forces, Not in labor force, Children or Armed Forces, Children or Armed Forces, Full-time schedules</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CAPGAIN</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">0, 0, 0, 0, 0, 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">CAPLOSS</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">0, 0, 0, 0, 0, 0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DIVVAL</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">0, 0, 0, 0, 0, 0</td>
</tr>
<tr class="even">
<td style="text-align: left;">FILESTAT</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Nonfiler, Head of household, Nonfiler, Nonfiler, Nonfiler, Joint both under 65</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GRINREG</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Not in universe, South, Not in universe, Not in universe, Not in universe, Not in universe</td>
</tr>
<tr class="even">
<td style="text-align: left;">GRINST</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Not in universe, Arkansas, Not in universe, Not in universe, Not in universe, Not in universe</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HHDFMX</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Other Rel 18+ ever marr not in subfamily, Householder, Child 18+ never marr Not in a subfamily, Child &lt;18 never marr not in subfamily, Child &lt;18 never marr not in subfamily, Spouse of householder</td>
</tr>
<tr class="even">
<td style="text-align: left;">HHDREL</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Other relative of householder, Householder, Child 18 or older, Child under 18 never married, Child under 18 never married, Spouse of householder</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MARSUPWT</td>
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">1700.09, 1053.55, 991.95, 1758.14, 1069.16, 162.61</td>
</tr>
<tr class="even">
<td style="text-align: left;">MIGMTR1</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">NA, MSA to MSA, NA, Nonmover, Nonmover, NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MIGMTR3</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">NA, Same county, NA, Nonmover, Nonmover, NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">MIGMTR4</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">NA, Same county, NA, Nonmover, Nonmover, NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MIGSAME</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Not in universe under 1 year old, No, Not in universe under 1 year old, Yes, Yes, Not in universe under 1 year old</td>
</tr>
<tr class="even">
<td style="text-align: left;">MIGSUN</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">NA, Yes, NA, Not in universe, Not in universe, NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NOEMP</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">0, 1, 0, 0, 0, 1</td>
</tr>
<tr class="even">
<td style="text-align: left;">PARENT</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Not in universe, Not in universe, Not in universe, Both parents present, Both parents present, Not in universe</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PEFNTVTY</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">United-States, United-States, Vietnam, United-States, United-States, Philippines</td>
</tr>
<tr class="even">
<td style="text-align: left;">PEMNTVTY</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">United-States, United-States, Vietnam, United-States, United-States, United-States</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PENATVTY</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">United-States, United-States, Vietnam, United-States, United-States, United-States</td>
</tr>
<tr class="even">
<td style="text-align: left;">PRCITSHP</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Native- Born in the United States, Native- Born in the United States, Foreign born- Not a citizen of U S, Native- Born in the United States, Native- Born in the United States, Native- Born in the United States</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SEOTR</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">0, 0, 0, 0, 0, 2</td>
</tr>
<tr class="even">
<td style="text-align: left;">VETQVA</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">Not in universe, Not in universe, Not in universe, Not in universe, Not in universe, Not in universe</td>
</tr>
<tr class="odd">
<td style="text-align: left;">VETYN</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">2, 2, 2, 0, 0, 2</td>
</tr>
<tr class="even">
<td style="text-align: left;">WKSWORK</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">0, 52, 0, 0, 0, 52</td>
</tr>
<tr class="odd">
<td style="text-align: left;">YEAR</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">95, 94, 95, 94, 94, 95</td>
</tr>
<tr class="even">
<td style="text-align: left;">Y</td>
<td style="text-align: left;">factor</td>
<td style="text-align: left;">- 50000., - 50000., - 50000., - 50000., - 50000., - 50000.</td>
</tr>
</tbody>
</table>
</div>
<details><summary>Code</summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># summary of the dataset</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pander.html">pander</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Table continues below</caption>
<colgroup>
<col style="width: 20%">
<col style="width: 39%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">AAGE</th>
<th style="text-align: center;">ACLSWKR</th>
<th style="text-align: center;">ADTIND</th>
<th style="text-align: center;">ADTOCC</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Min. : 0.00</td>
<td style="text-align: center;">Not in universe :100245</td>
<td style="text-align: center;">Min. : 0.00</td>
<td style="text-align: center;">Min. : 0.00</td>
</tr>
<tr class="even">
<td style="text-align: center;">1st Qu.:15.00</td>
<td style="text-align: center;">Private : 72028</td>
<td style="text-align: center;">1st Qu.: 0.00</td>
<td style="text-align: center;">1st Qu.: 0.00</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Median :33.00</td>
<td style="text-align: center;">Self-employed-not incorporated: 8445</td>
<td style="text-align: center;">Median : 0.00</td>
<td style="text-align: center;">Median : 0.00</td>
</tr>
<tr class="even">
<td style="text-align: center;">Mean :34.49</td>
<td style="text-align: center;">Local government : 7784</td>
<td style="text-align: center;">Mean :15.35</td>
<td style="text-align: center;">Mean :11.31</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3rd Qu.:50.00</td>
<td style="text-align: center;">State government : 4227</td>
<td style="text-align: center;">3rd Qu.:33.00</td>
<td style="text-align: center;">3rd Qu.:26.00</td>
</tr>
<tr class="even">
<td style="text-align: center;">Max. :90.00</td>
<td style="text-align: center;">Self-employed-incorporated : 3265</td>
<td style="text-align: center;">Max. :51.00</td>
<td style="text-align: center;">Max. :46.00</td>
</tr>
<tr class="odd">
<td style="text-align: center;">NA</td>
<td style="text-align: center;">(Other) : 3529</td>
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA</td>
</tr>
</tbody>
</table>
<table class="table table-sm table-striped">
<caption>Table continues below</caption>
<colgroup>
<col style="width: 38%">
<col style="width: 22%">
<col style="width: 38%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">AHGA</th>
<th style="text-align: center;">AHRSPAY</th>
<th style="text-align: center;">AHSCOL</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">High school graduate :48407</td>
<td style="text-align: center;">Min. : 0.00</td>
<td style="text-align: center;">College or university: 5688</td>
</tr>
<tr class="even">
<td style="text-align: center;">Children :47422</td>
<td style="text-align: center;">1st Qu.: 0.00</td>
<td style="text-align: center;">High school : 6892</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Some college but no degree:27820</td>
<td style="text-align: center;">Median : 0.00</td>
<td style="text-align: center;">Not in universe :186943</td>
</tr>
<tr class="even">
<td style="text-align: center;">Bachelors degree(BA AB BS):19865</td>
<td style="text-align: center;">Mean : 55.43</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: center;">7th and 8th grade : 8007</td>
<td style="text-align: center;">3rd Qu.: 0.00</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="even">
<td style="text-align: center;">10th grade : 7557</td>
<td style="text-align: center;">Max. :9999.00</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: center;">(Other) :40445</td>
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA</td>
</tr>
</tbody>
</table>
<table class="table table-sm table-striped">
<caption>Table continues below</caption>
<colgroup>
<col style="width: 43%">
<col style="width: 45%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">AMARITL</th>
<th style="text-align: center;">AMJIND</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Divorced :12710</td>
<td style="text-align: center;">Not in universe or children :100684</td>
</tr>
<tr class="even">
<td style="text-align: center;">Married-A F spouse present : 665</td>
<td style="text-align: center;">Retail trade : 17070</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Married-civilian spouse present:84222</td>
<td style="text-align: center;">Manufacturing-durable goods : 9015</td>
</tr>
<tr class="even">
<td style="text-align: center;">Married-spouse absent : 1518</td>
<td style="text-align: center;">Education : 8283</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Never married :86485</td>
<td style="text-align: center;">Manufacturing-nondurable goods : 6897</td>
</tr>
<tr class="even">
<td style="text-align: center;">Separated : 3460</td>
<td style="text-align: center;">Finance insurance and real estate: 6145</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Widowed :10463</td>
<td style="text-align: center;">(Other) : 51429</td>
</tr>
</tbody>
</table>
<table class="table table-sm table-striped">
<caption>Table continues below</caption>
<colgroup>
<col style="width: 45%">
<col style="width: 45%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">AMJOCC</th>
<th style="text-align: center;">ARACE</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Not in universe :100684</td>
<td style="text-align: center;">Amer Indian Aleut or Eskimo: 2251</td>
</tr>
<tr class="even">
<td style="text-align: center;">Adm support including clerical: 14837</td>
<td style="text-align: center;">Asian or Pacific Islander : 5835</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Professional specialty : 13940</td>
<td style="text-align: center;">Black : 20415</td>
</tr>
<tr class="even">
<td style="text-align: center;">Executive admin and managerial: 12495</td>
<td style="text-align: center;">Other : 3657</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Other service : 12099</td>
<td style="text-align: center;">White :167365</td>
</tr>
<tr class="even">
<td style="text-align: center;">Sales : 11783</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: center;">(Other) : 33685</td>
<td style="text-align: center;">NA</td>
</tr>
</tbody>
</table>
<table class="table table-sm table-striped">
<caption>Table continues below</caption>
<colgroup>
<col style="width: 40%">
<col style="width: 22%">
<col style="width: 34%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">AREORGN</th>
<th style="text-align: center;">ASEX</th>
<th style="text-align: center;">AUNMEM</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">All other :171907</td>
<td style="text-align: center;">Female:103984</td>
<td style="text-align: center;">No : 16034</td>
</tr>
<tr class="even">
<td style="text-align: center;">Mexican-American : 8079</td>
<td style="text-align: center;">Male : 95539</td>
<td style="text-align: center;">Not in universe:180459</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Mexican (Mexicano) : 7234</td>
<td style="text-align: center;">NA</td>
<td style="text-align: center;">Yes : 3030</td>
</tr>
<tr class="even">
<td style="text-align: center;">Central or South American: 3895</td>
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Puerto Rican : 3313</td>
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="even">
<td style="text-align: center;">Other Spanish : 2485</td>
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: center;">(Other) : 2610</td>
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA</td>
</tr>
</tbody>
</table>
<table class="table table-sm table-striped">
<caption>Table continues below</caption>
<colgroup>
<col style="width: 36%">
<col style="width: 41%">
<col style="width: 21%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">AUNTYPE</th>
<th style="text-align: center;">AWKSTAT</th>
<th style="text-align: center;">CAPGAIN</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Job leaver : 598</td>
<td style="text-align: center;">Children or Armed Forces :123769</td>
<td style="text-align: center;">Min. : 0.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">Job loser - on layoff: 976</td>
<td style="text-align: center;">Full-time schedules : 40736</td>
<td style="text-align: center;">1st Qu.: 0.0</td>
</tr>
<tr class="odd">
<td style="text-align: center;">New entrant : 439</td>
<td style="text-align: center;">Not in labor force : 26808</td>
<td style="text-align: center;">Median : 0.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">Not in universe :193453</td>
<td style="text-align: center;">PT for non-econ reasons usually FT: 3322</td>
<td style="text-align: center;">Mean : 434.7</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Other job loser : 2038</td>
<td style="text-align: center;">Unemployed full-time : 2311</td>
<td style="text-align: center;">3rd Qu.: 0.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">Re-entrant : 2019</td>
<td style="text-align: center;">PT for econ reasons usually PT : 1209</td>
<td style="text-align: center;">Max. :99999.0</td>
</tr>
<tr class="odd">
<td style="text-align: center;">NA</td>
<td style="text-align: center;">(Other) : 1368</td>
<td style="text-align: center;">NA</td>
</tr>
</tbody>
</table>
<table class="table table-sm table-striped">
<caption>Table continues below</caption>
<colgroup>
<col style="width: 23%">
<col style="width: 23%">
<col style="width: 44%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">CAPLOSS</th>
<th style="text-align: center;">DIVVAL</th>
<th style="text-align: center;">FILESTAT</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Min. : 0.00</td>
<td style="text-align: center;">Min. : 0.0</td>
<td style="text-align: center;">Head of household : 7426</td>
</tr>
<tr class="even">
<td style="text-align: center;">1st Qu.: 0.00</td>
<td style="text-align: center;">1st Qu.: 0.0</td>
<td style="text-align: center;">Joint both 65+ : 8332</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Median : 0.00</td>
<td style="text-align: center;">Median : 0.0</td>
<td style="text-align: center;">Joint both under 65 :67383</td>
</tr>
<tr class="even">
<td style="text-align: center;">Mean : 37.31</td>
<td style="text-align: center;">Mean : 197.5</td>
<td style="text-align: center;">Joint one under 65 &amp; one 65+: 3867</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3rd Qu.: 0.00</td>
<td style="text-align: center;">3rd Qu.: 0.0</td>
<td style="text-align: center;">Nonfiler :75094</td>
</tr>
<tr class="even">
<td style="text-align: center;">Max. :4608.00</td>
<td style="text-align: center;">Max. :99999.0</td>
<td style="text-align: center;">Single :37421</td>
</tr>
<tr class="odd">
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA</td>
</tr>
</tbody>
</table>
<table class="table table-sm table-striped">
<caption>Table continues below</caption>
<colgroup>
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">GRINREG</th>
<th style="text-align: center;">GRINST</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Abroad : 530</td>
<td style="text-align: center;">Not in universe:183750</td>
</tr>
<tr class="even">
<td style="text-align: center;">Midwest : 3575</td>
<td style="text-align: center;">California : 1714</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Northeast : 2705</td>
<td style="text-align: center;">Utah : 1063</td>
</tr>
<tr class="even">
<td style="text-align: center;">Not in universe:183750</td>
<td style="text-align: center;">Florida : 849</td>
</tr>
<tr class="odd">
<td style="text-align: center;">South : 4889</td>
<td style="text-align: center;">North Carolina : 812</td>
</tr>
<tr class="even">
<td style="text-align: center;">West : 4074</td>
<td style="text-align: center;">(Other) : 10627</td>
</tr>
<tr class="odd">
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA’s : 708</td>
</tr>
</tbody>
</table>
<table class="table table-sm table-striped">
<caption>Table continues below</caption>
<colgroup>
<col style="width: 44%">
<col style="width: 45%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">HHDFMX</th>
<th style="text-align: center;">HHDREL</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Householder :53248</td>
<td style="text-align: center;">Householder :75475</td>
</tr>
<tr class="even">
<td style="text-align: center;">Child &lt;18 never marr not in subfamily :50326</td>
<td style="text-align: center;">Child under 18 never married :50426</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Spouse of householder :41695</td>
<td style="text-align: center;">Spouse of householder :41709</td>
</tr>
<tr class="even">
<td style="text-align: center;">Nonfamily householder :22213</td>
<td style="text-align: center;">Child 18 or older :14430</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Child 18+ never marr Not in a subfamily:12030</td>
<td style="text-align: center;">Other relative of householder: 9703</td>
</tr>
<tr class="even">
<td style="text-align: center;">Secondary individual : 6122</td>
<td style="text-align: center;">Nonrelative of householder : 7601</td>
</tr>
<tr class="odd">
<td style="text-align: center;">(Other) :13889</td>
<td style="text-align: center;">(Other) : 179</td>
</tr>
</tbody>
</table>
<table class="table table-sm table-striped">
<caption>Table continues below</caption>
<colgroup>
<col style="width: 25%">
<col style="width: 33%">
<col style="width: 41%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">MARSUPWT</th>
<th style="text-align: center;">MIGMTR1</th>
<th style="text-align: center;">MIGMTR3</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Min. : 37.87</td>
<td style="text-align: center;">Nonmover :82538</td>
<td style="text-align: center;">Nonmover :82538</td>
</tr>
<tr class="even">
<td style="text-align: center;">1st Qu.: 1061.62</td>
<td style="text-align: center;">MSA to MSA :10601</td>
<td style="text-align: center;">Same county : 9812</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Median : 1618.31</td>
<td style="text-align: center;">NonMSA to nonMSA: 2811</td>
<td style="text-align: center;">Different county same state: 2797</td>
</tr>
<tr class="even">
<td style="text-align: center;">Mean : 1740.38</td>
<td style="text-align: center;">Not in universe : 1516</td>
<td style="text-align: center;">Not in universe : 1516</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3rd Qu.: 2188.61</td>
<td style="text-align: center;">MSA to nonMSA : 790</td>
<td style="text-align: center;">Different region : 1178</td>
</tr>
<tr class="even">
<td style="text-align: center;">Max. :18656.30</td>
<td style="text-align: center;">(Other) : 1571</td>
<td style="text-align: center;">(Other) : 1986</td>
</tr>
<tr class="odd">
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA’s :99696</td>
<td style="text-align: center;">NA’s :99696</td>
</tr>
</tbody>
</table>
<table class="table table-sm table-striped">
<caption>Table continues below</caption>
<colgroup>
<col style="width: 45%">
<col style="width: 45%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">MIGMTR4</th>
<th style="text-align: center;">MIGSAME</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Nonmover :82538</td>
<td style="text-align: center;">No : 15773</td>
</tr>
<tr class="even">
<td style="text-align: center;">Same county : 9812</td>
<td style="text-align: center;">Not in universe under 1 year old:101212</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Different county same state: 2797</td>
<td style="text-align: center;">Yes : 82538</td>
</tr>
<tr class="even">
<td style="text-align: center;">Not in universe : 1516</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Different state in South : 973</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="even">
<td style="text-align: center;">(Other) : 2191</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: center;">NA’s :99696</td>
<td style="text-align: center;">NA</td>
</tr>
</tbody>
</table>
<table class="table table-sm table-striped">
<caption>Table continues below</caption>
<colgroup>
<col style="width: 33%">
<col style="width: 22%">
<col style="width: 43%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">MIGSUN</th>
<th style="text-align: center;">NOEMP</th>
<th style="text-align: center;">PARENT</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">No : 9987</td>
<td style="text-align: center;">Min. :0.000</td>
<td style="text-align: center;">Both parents present : 38983</td>
</tr>
<tr class="even">
<td style="text-align: center;">Not in universe:84054</td>
<td style="text-align: center;">1st Qu.:0.000</td>
<td style="text-align: center;">Father only present : 1883</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Yes : 5786</td>
<td style="text-align: center;">Median :1.000</td>
<td style="text-align: center;">Mother only present : 12772</td>
</tr>
<tr class="even">
<td style="text-align: center;">NA’s :99696</td>
<td style="text-align: center;">Mean :1.956</td>
<td style="text-align: center;">Neither parent present: 1653</td>
</tr>
<tr class="odd">
<td style="text-align: center;">NA</td>
<td style="text-align: center;">3rd Qu.:4.000</td>
<td style="text-align: center;">Not in universe :144232</td>
</tr>
<tr class="even">
<td style="text-align: center;">NA</td>
<td style="text-align: center;">Max. :6.000</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA</td>
</tr>
</tbody>
</table>
<table class="table table-sm table-striped">
<caption>Table continues below</caption>
<colgroup>
<col style="width: 31%">
<col style="width: 31%">
<col style="width: 31%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">PEFNTVTY</th>
<th style="text-align: center;">PEMNTVTY</th>
<th style="text-align: center;">PENATVTY</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">United-States:159163</td>
<td style="text-align: center;">United-States:160479</td>
<td style="text-align: center;">United-States:176989</td>
</tr>
<tr class="even">
<td style="text-align: center;">Mexico : 10008</td>
<td style="text-align: center;">Mexico : 9781</td>
<td style="text-align: center;">Mexico : 5767</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Puerto-Rico : 2680</td>
<td style="text-align: center;">Puerto-Rico : 2473</td>
<td style="text-align: center;">Puerto-Rico : 1400</td>
</tr>
<tr class="even">
<td style="text-align: center;">Italy : 2212</td>
<td style="text-align: center;">Italy : 1844</td>
<td style="text-align: center;">Germany : 851</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Canada : 1380</td>
<td style="text-align: center;">Canada : 1451</td>
<td style="text-align: center;">Philippines : 845</td>
</tr>
<tr class="even">
<td style="text-align: center;">(Other) : 17367</td>
<td style="text-align: center;">(Other) : 17376</td>
<td style="text-align: center;">(Other) : 10278</td>
</tr>
<tr class="odd">
<td style="text-align: center;">NA’s : 6713</td>
<td style="text-align: center;">NA’s : 6119</td>
<td style="text-align: center;">NA’s : 3393</td>
</tr>
</tbody>
</table>
<table class="table table-sm table-striped">
<caption>Table continues below</caption>
<colgroup>
<col style="width: 44%">
<col style="width: 22%">
<col style="width: 33%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">PRCITSHP</th>
<th style="text-align: center;">SEOTR</th>
<th style="text-align: center;">VETQVA</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Foreign born- Not a citizen of U S : 13401</td>
<td style="text-align: center;">Min. :0.0000</td>
<td style="text-align: center;">No : 1593</td>
</tr>
<tr class="even">
<td style="text-align: center;">Foreign born- U S citizen by naturalization: 5855</td>
<td style="text-align: center;">1st Qu.:0.0000</td>
<td style="text-align: center;">Not in universe:197539</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Native- Born abroad of American Parent(s) : 1756</td>
<td style="text-align: center;">Median :0.0000</td>
<td style="text-align: center;">Yes : 391</td>
</tr>
<tr class="even">
<td style="text-align: center;">Native- Born in Puerto Rico or U S Outlying: 1519</td>
<td style="text-align: center;">Mean :0.1754</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Native- Born in the United States :176992</td>
<td style="text-align: center;">3rd Qu.:0.0000</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="even">
<td style="text-align: center;">NA</td>
<td style="text-align: center;">Max. :2.0000</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA</td>
</tr>
</tbody>
</table>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 22%">
<col style="width: 22%">
<col style="width: 20%">
<col style="width: 25%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">VETYN</th>
<th style="text-align: center;">WKSWORK</th>
<th style="text-align: center;">YEAR</th>
<th style="text-align: center;">Y</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Min. :0.000</td>
<td style="text-align: center;">Min. : 0.00</td>
<td style="text-align: center;">Min. :94.0</td>
<td style="text-align: center;">- 50000.:187141</td>
</tr>
<tr class="even">
<td style="text-align: center;">1st Qu.:2.000</td>
<td style="text-align: center;">1st Qu.: 0.00</td>
<td style="text-align: center;">1st Qu.:94.0</td>
<td style="text-align: center;">50000+. : 12382</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Median :2.000</td>
<td style="text-align: center;">Median : 8.00</td>
<td style="text-align: center;">Median :94.0</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="even">
<td style="text-align: center;">Mean :1.515</td>
<td style="text-align: center;">Mean :23.17</td>
<td style="text-align: center;">Mean :94.5</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3rd Qu.:2.000</td>
<td style="text-align: center;">3rd Qu.:52.00</td>
<td style="text-align: center;">3rd Qu.:95.0</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="even">
<td style="text-align: center;">Max. :2.000</td>
<td style="text-align: center;">Max. :52.00</td>
<td style="text-align: center;">Max. :95.0</td>
<td style="text-align: center;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA</td>
<td style="text-align: center;">NA</td>
</tr>
</tbody>
</table>
</div>
</div>


<!-- -->

</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb10" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Dataiku Interview Project"</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co">  - name: "Joffrey Joumaa"</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "December 5, 2017"</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-location: left</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co">    number-sections: true</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co">    smooth-scroll: true</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co">    code-link: true</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co">    df-print: paged</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co">    fig-align: "center"</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span><span class="co"> </span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="co">  echo: true</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="co">  cache: true</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="an">knitr:</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="co">  opts_chunk:</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="co">    message: false</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="co">  opts_knit: </span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a><span class="co">    root.dir: "~/Documents/postdoc/dataiku/dataiku/us_census_full/"</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup}</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">echo =</span> <span class="cn">TRUE</span>, </span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">message =</span> <span class="cn">FALSE</span>, </span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">warning =</span> <span class="cn">FALSE</span>, </span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">comment =</span> <span class="cn">NA</span>, </span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">cache =</span> <span class="cn">TRUE</span>,</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">fig.align =</span> <span class="st">"center"</span></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_knit<span class="sc">$</span><span class="fu">set</span>(<span class="at">root.dir =</span> <span class="st">"~/Documents/postdoc/dataiku/dataiku/us_census_full/"</span>)</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;style&gt;</span></span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a><span class="in">body {</span></span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a><span class="in">text-align: justify}</span></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/style&gt;</span></span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>Please find below my report about the dataset provided by Dataiku. This analysis has been realized using R (version 3.3.3) with all packages updated on <span class="in">`r format(Sys.Date(), "%d/%m/%Y")`</span>, under a UNIX/LINUX environment (Debian 9.2). The provided script (<span class="in">`code_jjoumaa.R`</span>) runs in about an hour with an Intel i7 6600U based computer equipped with 32 Gb RAM (DDR4).</span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a><span class="fu"># Prepare Problem</span></span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a><span class="fu">## Load libraries</span></span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>Most of the data manipulation was done using <span class="in">`data.table`</span> package due to its ability to handle large datasets. Data visualization was mostly done using <span class="in">`ggplot2`</span> package. For the modelling part, I've used <span class="in">`caret`</span> package, which provides a lot of useful tools for data science.</span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a><span class="in">```{r load_libraries}</span></span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a><span class="co"># data visualization</span></span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrplot)</span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a><span class="co"># data manipulation</span></span>
<span id="cb10-64"><a href="#cb10-64" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb10-65"><a href="#cb10-65" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb10-66"><a href="#cb10-66" aria-hidden="true" tabindex="-1"></a><span class="co"># data modeling</span></span>
<span id="cb10-67"><a href="#cb10-67" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb10-68"><a href="#cb10-68" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caretEnsemble)</span>
<span id="cb10-69"><a href="#cb10-69" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RANN)</span>
<span id="cb10-70"><a href="#cb10-70" aria-hidden="true" tabindex="-1"></a><span class="co"># markdown table</span></span>
<span id="cb10-71"><a href="#cb10-71" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb10-72"><a href="#cb10-72" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb10-73"><a href="#cb10-73" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pander)</span>
<span id="cb10-74"><a href="#cb10-74" aria-hidden="true" tabindex="-1"></a><span class="co"># (optional) multithreading</span></span>
<span id="cb10-75"><a href="#cb10-75" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(doMC)</span>
<span id="cb10-76"><a href="#cb10-76" aria-hidden="true" tabindex="-1"></a><span class="fu">registerDoMC</span>(<span class="at">cores =</span> <span class="dv">4</span>)</span>
<span id="cb10-77"><a href="#cb10-77" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb10-78"><a href="#cb10-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-79"><a href="#cb10-79" aria-hidden="true" tabindex="-1"></a><span class="fu">## Load dataset</span></span>
<span id="cb10-80"><a href="#cb10-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-81"><a href="#cb10-81" aria-hidden="true" tabindex="-1"></a>As we'll see in the next steps, both datasets (learning and validation one) present a lot of missing values in the form of <span class="in">`?`</span> in raw files, converted then in <span class="in">`NA`</span> values in R.</span>
<span id="cb10-82"><a href="#cb10-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-83"><a href="#cb10-83" aria-hidden="true" tabindex="-1"></a><span class="in">```{r load_dataset}</span></span>
<span id="cb10-84"><a href="#cb10-84" aria-hidden="true" tabindex="-1"></a><span class="co"># learning dataset</span></span>
<span id="cb10-85"><a href="#cb10-85" aria-hidden="true" tabindex="-1"></a>dataset <span class="ot">=</span> <span class="fu">fread</span>(<span class="st">"census_income_learn.csv"</span>, </span>
<span id="cb10-86"><a href="#cb10-86" aria-hidden="true" tabindex="-1"></a>                <span class="at">na.strings =</span> <span class="st">"?"</span>)</span>
<span id="cb10-87"><a href="#cb10-87" aria-hidden="true" tabindex="-1"></a><span class="co"># validation dataset</span></span>
<span id="cb10-88"><a href="#cb10-88" aria-hidden="true" tabindex="-1"></a>validation <span class="ot">=</span> <span class="fu">fread</span>(<span class="st">"census_income_test.csv"</span>, </span>
<span id="cb10-89"><a href="#cb10-89" aria-hidden="true" tabindex="-1"></a>                   <span class="at">na.strings =</span> <span class="st">"?"</span>)</span>
<span id="cb10-90"><a href="#cb10-90" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb10-91"><a href="#cb10-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-92"><a href="#cb10-92" aria-hidden="true" tabindex="-1"></a>Since neither dataset has column names, I've loaded the description file <span class="in">`census_income_metadata.txt`</span>, and extracted rows mentioning column names.</span>
<span id="cb10-93"><a href="#cb10-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-94"><a href="#cb10-94" aria-hidden="true" tabindex="-1"></a><span class="in">```{r load_colnames}</span></span>
<span id="cb10-95"><a href="#cb10-95" aria-hidden="true" tabindex="-1"></a><span class="co"># selection of the right rows containing colnames</span></span>
<span id="cb10-96"><a href="#cb10-96" aria-hidden="true" tabindex="-1"></a>datasetNames <span class="ot">=</span> <span class="fu">fread</span>(<span class="st">"census_income_metadata.txt"</span>, </span>
<span id="cb10-97"><a href="#cb10-97" aria-hidden="true" tabindex="-1"></a>                     <span class="at">nrows =</span> (<span class="dv">68-22</span>), </span>
<span id="cb10-98"><a href="#cb10-98" aria-hidden="true" tabindex="-1"></a>                     <span class="at">skip =</span> <span class="dv">22</span>, </span>
<span id="cb10-99"><a href="#cb10-99" aria-hidden="true" tabindex="-1"></a>                     <span class="at">drop =</span> <span class="st">"V1"</span>)</span>
<span id="cb10-100"><a href="#cb10-100" aria-hidden="true" tabindex="-1"></a><span class="co"># extraction of word in capital</span></span>
<span id="cb10-101"><a href="#cb10-101" aria-hidden="true" tabindex="-1"></a>colInter <span class="ot">=</span> datasetNames[, <span class="fu">unlist</span>(<span class="fu">str_extract_all</span>(V2, <span class="st">'</span><span class="sc">\\</span><span class="st">b[A-Z]+[A-Z0-9]</span><span class="sc">\\</span><span class="st">b'</span>))]</span>
<span id="cb10-102"><a href="#cb10-102" aria-hidden="true" tabindex="-1"></a>colInter</span>
<span id="cb10-103"><a href="#cb10-103" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb10-104"><a href="#cb10-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-105"><a href="#cb10-105" aria-hidden="true" tabindex="-1"></a>The problem was that 45 columns were mentioned in the description files (<span class="in">`colInter`</span>), whereas both datasets only have 42 columns. To solve this, I've matched each column with their respective names based on the number of unique "value" by columns and the one exposed in the description file. Using this method, I've found that AGI, FEDTAX, PEARNVAL, PTOTVAL and TAXINC attributes could be removed from the initial column names, and that the attributes YEARS and Y (the attributes to model, *i.e* the income level) should be added.</span>
<span id="cb10-106"><a href="#cb10-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-107"><a href="#cb10-107" aria-hidden="true" tabindex="-1"></a><span class="in">```{r right_colnames, rows.print=5}</span></span>
<span id="cb10-108"><a href="#cb10-108" aria-hidden="true" tabindex="-1"></a><span class="co"># number of instances for each attributes</span></span>
<span id="cb10-109"><a href="#cb10-109" aria-hidden="true" tabindex="-1"></a>dataset[, <span class="fu">sapply</span>(.SD, <span class="cf">function</span>(x){<span class="fu">length</span>(<span class="fu">unique</span>(x))})]</span>
<span id="cb10-110"><a href="#cb10-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-111"><a href="#cb10-111" aria-hidden="true" tabindex="-1"></a><span class="co"># remove unexpected column names</span></span>
<span id="cb10-112"><a href="#cb10-112" aria-hidden="true" tabindex="-1"></a>colInter <span class="ot">=</span> colInter[<span class="sc">-</span><span class="fu">c</span>(<span class="fu">which</span>(colInter <span class="sc">==</span> <span class="st">"AGI"</span>))]</span>
<span id="cb10-113"><a href="#cb10-113" aria-hidden="true" tabindex="-1"></a>colInter <span class="ot">=</span> colInter[<span class="sc">-</span><span class="fu">c</span>(<span class="fu">which</span>(colInter <span class="sc">==</span> <span class="st">"FEDTAX"</span>))]</span>
<span id="cb10-114"><a href="#cb10-114" aria-hidden="true" tabindex="-1"></a>colInter <span class="ot">=</span> colInter[<span class="sc">-</span><span class="fu">c</span>(<span class="fu">which</span>(colInter <span class="sc">==</span> <span class="st">"PEARNVAL"</span>))]</span>
<span id="cb10-115"><a href="#cb10-115" aria-hidden="true" tabindex="-1"></a>colInter <span class="ot">=</span> colInter[<span class="sc">-</span><span class="fu">c</span>(<span class="fu">which</span>(colInter <span class="sc">==</span> <span class="st">"PTOTVAL"</span>))]</span>
<span id="cb10-116"><a href="#cb10-116" aria-hidden="true" tabindex="-1"></a>colInter <span class="ot">=</span> colInter[<span class="sc">-</span><span class="fu">c</span>(<span class="fu">which</span>(colInter <span class="sc">==</span> <span class="st">"TAXINC"</span>))]</span>
<span id="cb10-117"><a href="#cb10-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-118"><a href="#cb10-118" aria-hidden="true" tabindex="-1"></a><span class="co"># add two more column names</span></span>
<span id="cb10-119"><a href="#cb10-119" aria-hidden="true" tabindex="-1"></a>colInter <span class="ot">=</span> <span class="fu">c</span>(colInter, <span class="fu">c</span>(<span class="st">"YEAR"</span>, <span class="st">"Y"</span>))</span>
<span id="cb10-120"><a href="#cb10-120" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(dataset) <span class="ot">=</span> colInter[<span class="dv">1</span><span class="sc">:</span><span class="dv">42</span>]</span>
<span id="cb10-121"><a href="#cb10-121" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(validation) <span class="ot">=</span> colInter[<span class="dv">1</span><span class="sc">:</span><span class="dv">42</span>]</span>
<span id="cb10-122"><a href="#cb10-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-123"><a href="#cb10-123" aria-hidden="true" tabindex="-1"></a><span class="co"># dataset preview</span></span>
<span id="cb10-124"><a href="#cb10-124" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">head</span>(validation, <span class="dv">5</span>), </span>
<span id="cb10-125"><a href="#cb10-125" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Preview of the dataset"</span>, </span>
<span id="cb10-126"><a href="#cb10-126" aria-hidden="true" tabindex="-1"></a>          <span class="at">extensions =</span> <span class="st">'FixedColumns'</span>, </span>
<span id="cb10-127"><a href="#cb10-127" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb10-128"><a href="#cb10-128" aria-hidden="true" tabindex="-1"></a>            <span class="at">dom =</span> <span class="st">"t"</span>, </span>
<span id="cb10-129"><a href="#cb10-129" aria-hidden="true" tabindex="-1"></a>            <span class="at">scrollX =</span> <span class="cn">TRUE</span>, </span>
<span id="cb10-130"><a href="#cb10-130" aria-hidden="true" tabindex="-1"></a>            <span class="at">fixedColumns =</span> <span class="cn">FALSE</span>))</span>
<span id="cb10-131"><a href="#cb10-131" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb10-132"><a href="#cb10-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-133"><a href="#cb10-133" aria-hidden="true" tabindex="-1"></a><span class="fu"># Summarize Data</span></span>
<span id="cb10-134"><a href="#cb10-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-135"><a href="#cb10-135" aria-hidden="true" tabindex="-1"></a><span class="fu">## Descriptive statistics</span></span>
<span id="cb10-136"><a href="#cb10-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-137"><a href="#cb10-137" aria-hidden="true" tabindex="-1"></a>It is difficult to present all attributes, but a quick summary provides a good overview of the structure.</span>
<span id="cb10-138"><a href="#cb10-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-139"><a href="#cb10-139" aria-hidden="true" tabindex="-1"></a><span class="in">```{r descriptive_stat}</span></span>
<span id="cb10-140"><a href="#cb10-140" aria-hidden="true" tabindex="-1"></a><span class="co"># index of column with characters</span></span>
<span id="cb10-141"><a href="#cb10-141" aria-hidden="true" tabindex="-1"></a>ncolCha <span class="ot">=</span> <span class="fu">which</span>(<span class="fu">sapply</span>(dataset, class) <span class="sc">==</span> <span class="st">"character"</span>)</span>
<span id="cb10-142"><a href="#cb10-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-143"><a href="#cb10-143" aria-hidden="true" tabindex="-1"></a><span class="co"># conversion of characters in factors</span></span>
<span id="cb10-144"><a href="#cb10-144" aria-hidden="true" tabindex="-1"></a>dataset[, (ncolCha)<span class="sc">:</span><span class="er">=</span><span class="fu">lapply</span>(.SD, as.factor), .SDcols <span class="ot">=</span> ncolCha]</span>
<span id="cb10-145"><a href="#cb10-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-146"><a href="#cb10-146" aria-hidden="true" tabindex="-1"></a><span class="co"># structure of the dataset</span></span>
<span id="cb10-147"><a href="#cb10-147" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">data.frame</span>(<span class="at">variable =</span> <span class="fu">names</span>(dataset), </span>
<span id="cb10-148"><a href="#cb10-148" aria-hidden="true" tabindex="-1"></a>                 <span class="at">classe =</span> <span class="fu">sapply</span>(dataset, class), </span>
<span id="cb10-149"><a href="#cb10-149" aria-hidden="true" tabindex="-1"></a>                 <span class="at">first_values =</span> <span class="fu">sapply</span>(dataset, <span class="cf">function</span>(x) {</span>
<span id="cb10-150"><a href="#cb10-150" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">paste0</span>(<span class="fu">head</span>(x), <span class="at">collapse =</span> <span class="st">", "</span>)}), </span>
<span id="cb10-151"><a href="#cb10-151" aria-hidden="true" tabindex="-1"></a>                 <span class="at">row.names =</span> <span class="cn">NULL</span>))</span>
<span id="cb10-152"><a href="#cb10-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-153"><a href="#cb10-153" aria-hidden="true" tabindex="-1"></a><span class="co"># summary of the dataset</span></span>
<span id="cb10-154"><a href="#cb10-154" aria-hidden="true" tabindex="-1"></a><span class="fu">pander</span>(<span class="fu">summary</span>(dataset))</span>
<span id="cb10-155"><a href="#cb10-155" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>